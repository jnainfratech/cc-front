{"ast":null,"code":"import _regeneratorRuntime from\"D:/office/cc-front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/office/cc-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';// import axios from 'axios';\nimport axiosInstance from'../Axios/axios';import axios from'axios';export var check=createAsyncThunk('structure/check',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:response=axiosInstance.post('/checkvalue',data);return _context.abrupt(\"return\",response);case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var recheck=createAsyncThunk('structure/recheck',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:response=axiosInstance.post('/recheck',data);return _context2.abrupt(\"return\",response);case 2:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var genrate=createAsyncThunk('structure/genrate',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data){var response,url,link;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(\"Data send in genrate\",data);_context3.next=3;return axiosInstance.post('/genrate',data,{responseType:'blob'});case 3:response=_context3.sent;url=window.URL.createObjectURL(new Blob([response.data]));console.log(\"data in res\",response);link=document.createElement('a');link.href=url;link.setAttribute('download','output.zip');document.body.appendChild(link);link.click();link.remove();return _context3.abrupt(\"return\",true);case 13:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());var structureSlice=createSlice({name:\"structure\",initialState:{structureData:null,loading:false,error:null,status:null},reducers:{},extraReducers:function extraReducers(builder){builder.addCase(check.pending,function(state){state.loading=true;state.error=null;}).addCase(check.fulfilled,function(state,action){state.loading=false;state.structureData=action.payload.data;}).addCase(check.rejected,function(state,action){state.loading=false;state.error=action.error.message;}).addCase(recheck.pending,function(state){state.loading=true;state.error=null;}).addCase(recheck.fulfilled,function(state,action){state.loading=false;state.structureData=action.payload.data;}).addCase(recheck.rejected,function(state,action){state.loading=false;state.error=action.error.message;}).addCase(genrate.pending,function(state){state.loading=true;state.error=null;}).addCase(genrate.fulfilled,function(state,action){state.loading=false;state.structureData=null;}).addCase(genrate.rejected,function(state,action){state.loading=false;state.error=action.error.message;});}});var structureActions=structureSlice.actions;// Export the reducer\nexport{structureActions};export default structureSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axiosInstance","axios","check","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","response","wrap","_callee$","_context","prev","next","post","abrupt","stop","_x","apply","arguments","recheck","_ref2","_callee2","_callee2$","_context2","_x2","genrate","_ref3","_callee3","url","link","_callee3$","_context3","console","log","responseType","sent","window","URL","createObjectURL","Blob","document","createElement","href","setAttribute","body","appendChild","click","remove","_x3","structureSlice","name","initialState","structureData","loading","error","status","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","message","structureActions","actions","reducer"],"sources":["D:/office/cc-front/src/Slice/strucureSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\n// import axios from 'axios';\r\nimport axiosInstance from '../Axios/axios'; \r\nimport axios from 'axios';\r\n\r\nexport const check = createAsyncThunk(\r\n    'structure/check',\r\n    async (data) =>{\r\n        const response =  axiosInstance.post('/checkvalue',data)\r\n        return response\r\n    }\r\n)\r\n\r\nexport const recheck = createAsyncThunk(\r\n    'structure/recheck',\r\n    async(data)=>{\r\n        const response = axiosInstance.post('/recheck',data)\r\n        return response\r\n    }\r\n)\r\nexport const genrate = createAsyncThunk(\r\n    'structure/genrate',\r\n    \r\n    async(data)=>{\r\n        console.log(\"Data send in genrate\",data)\r\n        const response = await axiosInstance.post('/genrate',data, { responseType: 'blob' })\r\n        const url = window.URL.createObjectURL(new Blob([response.data]));\r\n        console.log(\"data in res\",response)\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute('download', 'output.zip');\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        link.remove();\r\n  \r\n        return true;\r\n    }  \r\n)\r\n\r\n\r\nconst structureSlice = createSlice({\r\n    name:\"structure\",\r\n    initialState: {\r\n        structureData: null,\r\n        loading: false,\r\n        error: null,\r\n        status:null\r\n      },\r\n      reducers:{\r\n\r\n      },extraReducers:(builder)=>{\r\n        builder\r\n        .addCase(check.pending,(state)=>{\r\n            state.loading = true;\r\n            state.error =  null;\r\n        })\r\n        .addCase(check.fulfilled,(state,action)=>{\r\n            state.loading = false;\r\n            state.structureData = action.payload.data\r\n        })\r\n        .addCase(check.rejected,(state,action)=>{\r\n            state.loading= false;\r\n            state.error = action.error.message\r\n        })\r\n        .addCase(recheck.pending,(state)=>{\r\n            state.loading = true;\r\n            state.error = null;\r\n        })\r\n        .addCase(recheck.fulfilled,(state,action)=>{\r\n            state.loading =  false;\r\n            state.structureData = action.payload.data\r\n        })\r\n        .addCase(recheck.rejected,(state,action)=>{\r\n            state.loading = false;\r\n            state.error = action.error.message;\r\n        })\r\n        .addCase(genrate.pending,(state)=>{\r\n            state.loading = true;\r\n            state.error = null;\r\n        })\r\n        .addCase(genrate.fulfilled,(state,action)=>{\r\n            state.loading =  false;\r\n            state.structureData = null\r\n        })\r\n        .addCase(genrate.rejected,(state,action)=>{\r\n            state.loading = false;\r\n            state.error = action.error.message;\r\n        })\r\n      }\r\n})\r\n\r\nexport const { actions: structureActions } = structureSlice;\r\n\r\n  \r\n// Export the reducer\r\nexport default structureSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}